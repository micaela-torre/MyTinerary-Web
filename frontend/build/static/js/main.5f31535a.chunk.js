(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(21),s=n.n(r),c=(n(67),n(11)),i=n(7),o=n(3),l=n.n(o),u=n(4),d=n(6),m=n(15),p=n.n(m),j={signIn:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.post("https://mytinerary-web.herokuapp.com/api/user/signin",Object(u.a)({},e));case 2:return r=t.sent,n({type:"LOG_INTO_SYSTEM",payload:r.data.response}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},signUp:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.post("https://mytinerary-web.herokuapp.com/api/users",Object(u.a)({},e));case 2:return r=t.sent,n({type:"LOG_INTO_SYSTEM",payload:r.data.response}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},logOut:function(){return function(e,t){e({type:"LOG_OUT"})}},logInLS:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("https://mytinerary-web.herokuapp.com/api/verifyToken",{headers:{Authorization:"Bearer "+e}});case 3:r=t.sent,n({type:"LOG_INTO_SYSTEM",payload:{token:e,name:r.data.name,url:r.data.url,lastname:r.data.lastname,_id:r.data._id}}),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(n({type:"LOG_OUT"}),console.log(t.t0)));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},b=n(0),h={logOut:j.logOut},O=Object(c.b)((function(e){return{token:e.users.token,name:e.users.name,url:e.users.url}}),h)((function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light p-0",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"navbar-collapse",id:"navbarNavDropdown",children:Object(b.jsxs)("ul",{className:"navbar-nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.c,{exact:!0,to:"/",className:"nav-link",children:"HOME"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.c,{to:"/cities",className:"nav-link",children:"CITIES"})}),Object(b.jsx)("li",{className:"nav-item",children:!e.token&&Object(b.jsx)(i.c,{to:"/signIn",className:"nav-link",children:"SIGN IN"})}),Object(b.jsx)("li",{className:"nav-item",children:!e.token&&Object(b.jsx)(i.c,{to:"/signUp",className:"nav-link",children:"SIGN UP"})}),Object(b.jsx)("li",{className:"nav-link",children:e.token&&Object(b.jsxs)("h4",{className:"welcome",children:["Welcome , ",e.name,"!"]})}),Object(b.jsxs)("li",{className:"nav-item dropdown",children:[e.token?Object(b.jsx)(i.b,{to:"",className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(b.jsx)("img",{className:"logo",src:e.url,alt:"logo-user",width:"30"})}):Object(b.jsx)(i.b,{to:"",className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(b.jsx)("img",{className:"logo",src:"/assets/user.png",alt:"logo-user",width:"30"})}),e.token?Object(b.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(b.jsx)("li",{children:Object(b.jsx)("h5",{className:"logOut",children:"SETTINGS"})}),Object(b.jsx)("li",{children:Object(b.jsx)("h5",{className:"logOut",onClick:function(){return e.logOut()},children:"LOG OUT"})})]}):Object(b.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"signIn",className:"dropdown-item",children:"SIGN IN"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"signUp",className:"dropdown-item",children:"SIGN UP"})})]})]})]})})]})})})})),g=function(e){return Object(b.jsxs)("header",{id:"hero",style:{backgroundImage:"url('".concat(e.photo,"')")},children:[Object(b.jsx)(O,{}),Object(b.jsxs)("div",{className:"hero-titulo",children:[Object(b.jsxs)("h1",{className:"fw-bold",children:[e.title," "]}),Object(b.jsxs)("h3",{children:[" ",e.subtitle]}),e.button]})]})},f=function(e){return Object(b.jsxs)("footer",{className:"d-flex container-fluid",style:{backgroundImage:"url('/assets/fonditoo.png')"},children:[Object(b.jsxs)("div",{className:"nav-footer",children:[Object(b.jsx)(i.c,{exact:!0,to:"/",children:"HOME"}),Object(b.jsx)(i.c,{to:"/cities",children:"CITIES"}),Object(b.jsx)(i.b,{to:"",children:Object(b.jsx)("img",{src:"/assets/user.png",width:"25",alt:"user"})})]}),Object(b.jsx)("h4",{children:"\xa9 MYTINERARY 2021 - ALL RIGHTS RESERVED"})]})},x=n(14),v=n(59),y=n(116),k=n(117),w=n(118),N=(n(34),[{view:[{foto:"capadoccia.png",nombre:"CAPADOCCIA"},{foto:"doha.png",nombre:"DOHA"},{foto:"baku.png",nombre:"BAK\xda"},{foto:"giza.png",nombre:"GIZA"}]},{view:[{foto:"dubai2.png",nombre:"DUBAI"},{foto:"jerusalen.png",nombre:"JERUSALEN"},{foto:"manama.png",nombre:"MANAMA"},{foto:"riyad.png",nombre:"RIYAD"}]},{view:[{foto:"mascate.png",nombre:"MASCATE"},{foto:"saana.png",nombre:"SAANA"},{foto:"tbilisi.png",nombre:"TBILISI"},{foto:"erevan.png",nombre:"EREVAN"}]}]),I=function(e){var t=Object(a.useState)(0),n=Object(x.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(!1),i=Object(x.a)(c,2),o=i[0],l=i[1],u=function(){if(!o){var e=r===N.length-1?0:r+1;s(e)}},d=function(){if(!o){var e=0===r?N.length-1:r-1;s(e)}},m=N.map((function(e,t){return Object(b.jsxs)(v.a,{onExiting:function(){return l(!0)},onExited:function(){return l(!1)},children:[Object(b.jsx)("h2",{className:"carousel2 fw-bold",children:"POPULAR MYTINERARIES"}),Object(b.jsx)("div",{className:"carousel container-fluid",children:e.view.map((function(e){return Object(b.jsx)("div",{className:"div-foto",style:{backgroundImage:'url("/assets/'.concat(e.foto,'")')},children:Object(b.jsx)("h3",{children:e.nombre})},e.foto)}))})]},t)}));return Object(b.jsxs)(y.a,{activeIndex:r,next:u,previous:d,children:[Object(b.jsx)(k.a,{items:m,activeIndex:r,onClickHandler:function(e){o||s(e)}}),m,Object(b.jsx)(w.a,{direction:"prev",directionText:"PREVIOUS",onClickHandler:d}),Object(b.jsx)(w.a,{direction:"next",directionText:"NEXT",onClickHandler:u})]})},C=function(){return window.scrollTo(0,0),Object(b.jsxs)("div",{className:" container-fluid p-0 m-0",id:"start",style:{backgroundImage:"url('/assets/fondo.png')"},children:[Object(b.jsx)(g,{photo:"https://i.postimg.cc/rmkq7CDv/fondoC.jpg",title:"MYTINERARY",subtitle:"Find your perfect trip, designed by insiders who know and love their\r cities!",button:Object(b.jsx)(i.b,{to:"/cities",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary",children:"CLICK HERE!"})})}),Object(b.jsx)(I,{}),Object(b.jsx)(f,{fondo:"fondoF.png"})]})},T=function(e){var t=e.city;return Object(b.jsx)(i.b,{to:"/city/".concat(t._id),children:Object(b.jsx)("div",{className:"card",style:{backgroundImage:'url("'.concat(t.photo,'")')},children:Object(b.jsx)("div",{className:"card-dos",children:Object(b.jsx)("div",{className:"card-tres",children:Object(b.jsxs)("h4",{children:[" ",t.name]})})})})},t._id)},E={getAllCities:function(e){return function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://mytinerary-web.herokuapp.com/api/cities");case 2:if(a=e.sent,r=a.data.response,a.data.success){e.next=6;break}throw new Error;case 6:t({type:"GET_ALL_CITIES",payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},filterCity:function(e){return function(t){t({type:"FILTER_CITY",payload:e})}}},S=n(8),A=n.n(S),_={getCities:E.getAllCities,filterCity:E.filterCity},L=Object(c.b)((function(e){return{citiesFilter:e.cities.filterCities,token:e.users.token}}),_)((function(e){Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getCities(e.token);case 3:t.next=10;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0),A.a.fire({icon:"warning",title:"Oops...We have a problem. \ud83d\ude25 Try later!",text:"In moments you will be redirected to Home."}),setTimeout((function(){e.history.push("/")}),3e3);case 10:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),window.scrollTo(0,0)}),[e.token]);var t=e.citiesFilter.map((function(e){return Object(b.jsx)(T,{city:e},e._id)})),n=Object(b.jsx)("div",{className:"ups",style:{backgroundImage:'url("/assets/ups.png")'}}),r=0!==e.citiesFilter.length?t:n;return Object(b.jsxs)("div",{className:"container-fluid container-cities p-0",style:{backgroundImage:"url('/assets/fondo.png')"},children:[Object(b.jsx)(g,{photo:"https://i.postimg.cc/pT8hRRQp/Dise-o-sin-t-tulo-42.png",title:"FIND YOUR ADVENTURE!",subtitle:"You came to the right place..\ud83e\udd0d"}),Object(b.jsxs)("div",{className:"div-search",children:[Object(b.jsx)("h2",{children:"Choose your next destination:"}),Object(b.jsx)("input",{type:"text",placeholder:"Search..",style:{backgroundImage:"url('/assets/lupa.png')"},onChange:function(t){return e.filterCity(t.target.value.toLowerCase())}})]}),Object(b.jsx)("main",{className:"d-flex",children:Object(b.jsx)("div",{className:"cities",children:r})}),Object(b.jsx)(f,{})]})})),R=function(){return Object(b.jsxs)("div",{className:"loader",children:[Object(b.jsx)("span",{children:"A"}),Object(b.jsx)("span",{children:"W"}),Object(b.jsx)("span",{children:"A"}),Object(b.jsx)("span",{children:"I"}),Object(b.jsx)("span",{children:"T"})]})},U={getItineraries:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n,a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(" https://mytinerary-web.herokuapp.com/api/itineraries/".concat(e));case 2:if(r=t.sent,s=r.data.response,r.data.success){t.next=6;break}throw new Error;case 6:n({type:"GET_ITINERARIES",payload:s});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getActivitiesByItinerary:function(e){return Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("https://mytinerary-web.herokuapp.com/api/activities/".concat(e));case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))},putLike:function(e,t){return Object(d.a)(l.a.mark((function n(){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.put("https://mytinerary-web.herokuapp.com/api/like/".concat(e),{},{headers:{Authorization:"Bearer "+t}});case 3:return a=n.sent,n.abrupt("return",a.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))},createComment:function(e,t,n){return Object(d.a)(l.a.mark((function a(){var r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.put("https://mytinerary-web.herokuapp.com/api/comment/".concat(e),Object(u.a)({},t),{headers:{Authorization:"Bearer "+n}});case 3:return r=a.sent,a.abrupt("return",r.data);case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))},deleteComment:function(e,t){return Object(d.a)(l.a.mark((function n(){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.delete("https://mytinerary-web.herokuapp.com/api/comment-delete/".concat(e),{headers:{Authorization:"Bearer "+t}});case 3:return a=n.sent,console.log(a.data),n.abrupt("return",a.data);case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))}},G=n(61),H=function(e){var t=Object(a.useState)(0),n=Object(x.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(!1),i=Object(x.a)(c,2),o=i[0],l=i[1],u=function(){if(!o){var t=r===e.activities.length-1?0:r+1;s(t)}},d=function(){if(!o){var t=0===r?e.activities.length-1:r-1;s(t)}},m=e.activities.map((function(e,t){return Object(b.jsx)(v.a,{onExiting:function(){return l(!0)},onExited:function(){return l(!1)},children:Object(b.jsx)("div",{className:"carousel container-fluid",children:Object(b.jsx)("div",{className:"activity",style:{backgroundImage:'url("'.concat(e.pic,'")')},children:Object(b.jsx)("h3",{className:"activity3",children:e.name})},e._id)})},t)}));return Object(b.jsxs)(y.a,{activeIndex:r,next:u,previous:d,children:[Object(b.jsx)(k.a,{items:m,activeIndex:r,onClickHandler:function(e){o||s(e)}}),m,Object(b.jsx)(w.a,{direction:"prev",directionText:"PREVIOUS",onClickHandler:d}),Object(b.jsx)(w.a,{direction:"next",directionText:"NEXT",onClickHandler:u})]})},D=(Object(c.b)((function(e){return{token:e.users.token,user_Id:e.users._id,url:e.users.url,name:e.users.name,lastname:e.users.lastname}}))((function(e){var t=e.com.comment;return console.log(e.com),Object(b.jsxs)("div",{className:"comment",children:[Object(b.jsx)("img",{className:"logoUser",src:"/assets/user.png",alt:"logo-user",width:"30"}),t]})})),{getActivitiesByItinerary:U.getActivitiesByItinerary,putLike:U.putLike,getItineraries:U.getItineraries,createComment:U.createComment,deleteComment:U.deleteComment}),F=Object(c.b)((function(e){return{token:e.users.token,user_Id:e.users._id,url:e.users.url,name:e.users.name,lastname:e.users.lastname}}),D)((function(e){for(var t=e.itinerary,n=t.author,r=t.hashtag,s=t.description,c=t.includes,i=t.duration,o=t.price,u=t.likes,m=t.comments,p=t.name,j=t._id,h=[],O=0;O<o;O++)h.push(Object(b.jsx)("div",{style:{backgroundImage:"url('https://i.postimg.cc/brXD3Qsj/iconos-de-dinero.png')",width:38,height:30,backgroundPosition:"center",backgroundSize:"cover",marginLeft:7}},"box-".concat(O)));var g=Object(a.useState)(u),f=Object(x.a)(g,2),v=f[0],y=f[1],k=Object(a.useState)(""),w=Object(x.a)(k,2),N=w[0],I=w[1],C=Object(a.useState)(m),T=Object(x.a)(C,2),E=T[0],S=T[1],_=Object(a.useState)(!1),L=Object(x.a)(_,2),R=L[0],U=L[1],D=A.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",A.a.stopTimer),e.addEventListener("mouseleave",A.a.resumeTimer)}}),F=Object(a.useState)([]),B=Object(x.a)(F,2),P=B[0],M=B[1],W=function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==N){t.next=3;break}return D.fire({icon:"warning",title:"comment cannot be empty!"}),t.abrupt("return",!1);case 3:return t.prev=3,t.next=6,e.createComment(j,{comments:{comment:N,name:e.name,lastname:e.lastname,url:e.url}},e.token);case 6:t.sent.success&&(n={userId:e.user_Id,comment:N,name:e.name,lastname:e.lastname,url:e.url},S([].concat(Object(G.a)(E),[n]))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getActivitiesByItinerary(e.itinerary._id);case 3:n=t.sent,M(n.data.response),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),A.a.fire({icon:"warning",title:"Oops...We have a problem. \ud83d\ude25 Try later!",text:"In moments you will be redirected to Home."}),setTimeout((function(){e.history.push("/")}),2e3);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[R]);var Y=v.includes(e.user_Id)&&e.token?"https://i.postimg.cc/Hkvc8G0K/love.png":"https://i.postimg.cc/13Xt0n45/like.png";return Object(b.jsxs)("div",{className:"itinerary",children:[Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("div",{className:"img-autor",style:{backgroundImage:"url('".concat(n.photo,"')")}}),Object(b.jsxs)("h5",{children:["Experience by ",n.nombre]}),Object(b.jsxs)("div",{className:"likee",children:[v.length,Object(b.jsx)("div",{className:"like",onClick:function(){e.token?function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.putLike(j,e.token);case 3:(n=t.sent).success&&y(n.response),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()():D.fire({icon:"warning",title:"Oops! You must be logged in to like a post!"})},style:{backgroundImage:"url('".concat(Y,"')")}})]})]}),Object(b.jsx)("h3",{className:"itinerary-h3",children:s}),Object(b.jsx)("div",{className:"d-flex",children:r.map((function(e){return Object(b.jsxs)("p",{className:"orange",children:["#",e]},e)}))}),Object(b.jsxs)("div",{className:"d-flex align-center",children:[Object(b.jsxs)("p",{children:["Duration: ",i," hours \ud83d\udd50 "]}),Object(b.jsx)("p",{children:"Price:"}),h,Object(b.jsxs)("p",{children:["Includes: ",c[0]," & ",c[1]]})]}),R&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"activity-box",children:[Object(b.jsxs)("div",{className:"comments",children:[Object(b.jsx)("h3",{className:"comment-h3",children:"Comments"}),E.map((function(t){return Object(b.jsxs)("div",{className:"comment",children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("img",{style:{width:60,borderRadius:"100%"},src:t.url,alt:"logo-user"}),Object(b.jsxs)("p",{style:{fontWeight:"bolder"},children:[t.name," ",t.lastname]})]}),t.comment,e.user_Id&&Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("button",{onClick:function(){return e.deleteComment(e.user_Id,e.token)},children:Object(b.jsx)("img",{src:"https://i.postimg.cc/jjK89hZm/Dise-o-sin-t-tulo-1.gif",width:"25"})}),Object(b.jsx)("button",{children:Object(b.jsx)("img",{src:"https://i.postimg.cc/PxZ58k8v/Dise-o-sin-t-tulo-33.png",width:"25"})})]})]})})),Object(b.jsx)("div",{className:"paintComment"})]}),Object(b.jsx)("div",{children:Object(b.jsx)(H,{activities:P})})]}),Object(b.jsxs)("div",{className:"writeComment",children:[Object(b.jsx)("input",{style:{backgroundImage:" url('/assets/send.png')"},onChange:function(e){return I(e.target.value)},type:"textarea",placeholder:"Write a comment.."}),Object(b.jsx)("img",{onClick:W,className:"botoncito",src:"/assets/send.png",width:"10"})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"button-itin",onClick:function(){U(!R)},children:R?"See Less":"See More"})})]},p)})),B={getItineraries:U.getItineraries,getCities:E.getAllCities},P=Object(c.b)((function(e){return{infoCities:e.cities.cities,itineraries:e.itineraries.itineraries}}),B)((function(e){if(Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItineraries(e.match.params.id);case 3:t.next=10;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0),A.a.fire({icon:"warning",title:"Oops...We have a problem. \ud83d\ude25 Try later!",text:"In moments you will be redirected to Home."}),setTimeout((function(){e.history.push("/")}),2e3);case 10:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}if(function(){t.apply(this,arguments)}(),!e.infoCities.length)return e.getCities();window.scrollTo(0,0)}),[]),!e.infoCities.length)return Object(b.jsx)(R,{});var t=e.infoCities.find((function(t){return t._id===e.match.params.id}));if(!t)return A.a.fire({icon:"warning",title:"Oops...We have a problem. \ud83d\ude25 Try later!",text:"In moments you will be redirected to Home."}),setTimeout((function(){e.history.push("/cities")}),1e3);var n=Object(b.jsx)("div",{className:"only-city",children:Object(b.jsx)(g,{photo:t.photo,title:t.name,subtitle:"Welcome!",button:Object(b.jsxs)("div",{className:"info-extra",children:[Object(b.jsxs)("div",{className:"extra",children:[Object(b.jsx)("div",{className:"one",style:{backgroundImage:"url('/assets/moneda.png')"}}),Object(b.jsx)("p",{children:t.money})]}),Object(b.jsxs)("div",{className:"extra",children:[Object(b.jsx)("div",{className:"one",style:{backgroundImage:"url('/assets/idioma.png')"}}),Object(b.jsx)("p",{children:t.language})]}),Object(b.jsxs)("div",{className:"extra",children:[Object(b.jsx)("div",{className:"one",style:{backgroundImage:"url('/assets/nroUno.png')"}}),Object(b.jsx)("p",{children:t.theBest})]})]})})}),r=e.itineraries.map((function(t){return Object(b.jsx)(F,Object(u.a)({itinerary:t},e),t._id)})),s=Object(b.jsx)("div",{className:"not",style:{backgroundImage:'url("/assets/notItinerary.png")'}}),c=r.length?r:s;return Object(b.jsxs)(b.Fragment,{children:[n,Object(b.jsx)("h2",{className:"itineraryh2 ",children:"The adventure you were looking for awaits you\ud83d\udc9c"}),Object(b.jsx)("div",{className:"box-itinerary",children:c}),Object(b.jsxs)("div",{className:"recomendaciones",style:{backgroundImage:'url("/assets/recomendacion.png")'},children:[Object(b.jsxs)("h3",{children:["Recommendations for traveling to ",t.country]}),Object(b.jsx)("p",{children:t.recommendation})]}),Object(b.jsx)(f,{})]})})),M=n(9),W=(n(105),function(){return Object(b.jsxs)("div",{className:"notFound",children:[Object(b.jsx)("div",{className:"mars"}),Object(b.jsx)("img",{src:"https://assets.codepen.io/1538474/404.svg",className:"logo-404",alt:"logo"}),Object(b.jsx)("img",{src:"https://assets.codepen.io/1538474/meteor.svg",className:"meteor",alt:"meteor"}),Object(b.jsx)("p",{className:"title2",children:"OH NO!!!"}),Object(b.jsxs)("p",{className:"subtitle",children:["You\u2019re either misspelling the URL ",Object(b.jsx)("br",{})," or requesting a page that's no longer here."]}),Object(b.jsx)("div",{align:"center",children:Object(b.jsx)(i.b,{to:"/",className:"btn-back",children:"BACK TO HOME"})}),Object(b.jsx)("img",{src:"https://assets.codepen.io/1538474/astronaut.svg",className:"astronaut",alt:"astronaut"}),Object(b.jsx)("img",{src:"https://assets.codepen.io/1538474/spaceship.svg",className:"spaceship",alt:"spaceship"})]})}),Y=n(22),q={getCountries:function(){return function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://restcountries.eu/rest/v2/#");case 2:a=e.sent,t({type:"GET_COUNTRIES",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},z=n(30),K=n.n(z),V={getCountries:q.getCountries,signUp:j.signUp},X=Object(c.b)((function(e){return{countries:e.countries.countries}}),V)((function(e){console.log(e),Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getCountries();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var t=Object(a.useState)({name:"",lastname:"",email:"",password:"",url:"",country:""}),n=Object(x.a)(t,2),r=n[0],s=n[1],c=A.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",A.a.stopTimer),e.addEventListener("mouseleave",A.a.resumeTimer)}}),o=function(e){s(Object(u.a)(Object(u.a)({},r),{},Object(Y.a)({},e.target.name,e.target.value)))},m=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!Object.keys(r).some((function(e){return""===r[e]}))){t.next=4;break}return c.fire({icon:"warning",title:"Oops! Fields cannot be empty!"}),t.abrupt("return",!1);case 4:if(r.email.includes("@")){t.next=7;break}return c.fire({icon:"warning",title:"Oops! email format entered is incorrect!"}),t.abrupt("return",!1);case 7:return t.prev=7,t.next=10,e.signUp(r);case 10:(a=t.sent).data.success?c.fire({icon:"success",title:"Account Created successfully!"}):a.data.response[0].message?c.fire({icon:"warning",title:a.data.response[0].message}):c.fire({icon:"warning",title:a.data.response}),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(7),console.log(t.t0),A.a.fire({icon:"warning",title:"Oops...We have a problem. \ud83d\ude25 Try later!",text:"In moments you will be redirected to Home."}),setTimeout((function(){e.history.push("/")}),3e3);case 19:case"end":return t.stop()}}),t,null,[[7,14]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={name:n.profileObj.givenName,lastname:n.profileObj.familyName,email:n.profileObj.email,password:n.profileObj.googleId,url:n.profileObj.imageUrl,country:"Argentina",google:!0},t.prev=1,t.next=4,e.signUp(a);case 4:(r=t.sent).data.success?c.fire({icon:"success",title:"Account Created successfully!"}):r.data.response[0].message?c.fire({icon:"warning",title:r.data.response[0].message}):c.fire({icon:"warning",title:r.data.response}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),A.a.fire({icon:"warning",title:"Oops...We have a problem. \ud83d\ude25 Try later!",text:"In moments you will be redirected to Home."}),setTimeout((function(){e.history.push("/")}),3e3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"div-form",children:[Object(b.jsxs)("form",{className:" row",children:[Object(b.jsx)("div",{className:"col-md-4 ",children:Object(b.jsx)("input",{className:"form-control",type:"text",name:"name",placeholder:"First name",value:r.name,onChange:o,required:{value:!0}})}),Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsx)("input",{className:"form-control",type:"text",name:"lastname",placeholder:"Last name",value:r.lastname,onChange:o,required:!0})}),Object(b.jsx)("div",{id:"emailHelp",className:" col-md-4 ",children:Object(b.jsx)("input",{className:"form-control",type:"email",name:"email",placeholder:"Email",value:r.email,onChange:o,required:!0})}),Object(b.jsx)("div",{id:"exampleInputPassword1",className:"col-md-4 ",children:Object(b.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",value:r.password,onChange:o,required:!0})}),Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsx)("input",{className:"form-control",type:"text",name:"url",placeholder:"URL of your picture",value:r.url,onChange:o,required:!0})}),Object(b.jsx)("div",{className:"caja col-md-4 ",children:Object(b.jsxs)("select",{className:"form-select",name:"country","aria-label":"Default select example",onChange:o,children:[Object(b.jsx)("option",{children:"Choose your country"}),e.countries.map((function(e){return Object(b.jsx)("option",{value:e.name,children:e.name},e.name)}))]})}),Object(b.jsxs)("div",{className:"buttons",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-dark col-md-2 m-2",onClick:m,children:"Sign Up"}),Object(b.jsx)(K.a,{className:"btn btn-dark col-md-2 m-2",type:"button",clientId:"51461104755-rc63mundpq3i34ujiubmuo9o314gr1bg.apps.googleusercontent.com",buttonText:" Sign Up whit Google",onSuccess:p,onFailure:p,cookiePolicy:"single_host_origin"})]})]}),Object(b.jsxs)("p",{className:"form",children:["Already have an account?",Object(b.jsx)(i.b,{to:"/signIn",children:"Sign In here!"})]})]})})),J=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{photo:"fondoForm.png",title:"Create Account!",subtitle:"Please fill the details to Sign Up!",button:Object(b.jsx)(X,Object(u.a)({},e))}),Object(b.jsx)(f,{})]})},Z={signIn:j.signIn},Q=Object(c.b)(null,Z)((function(e){var t=A.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",A.a.stopTimer),e.addEventListener("mouseleave",A.a.resumeTimer)}}),n=Object(a.useState)({email:"",password:""}),r=Object(x.a)(n,2),s=r[0],c=r[1],o=function(e){c(Object(u.a)(Object(u.a)({},s),{},Object(Y.a)({},e.target.name,e.target.value)))},m=function(){var n=Object(d.a)(l.a.mark((function n(a){var r,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={email:a.profileObj.email,password:a.profileObj.googleId,flagGoogle:!0},n.prev=1,n.next=4,e.signIn(r);case 4:(s=n.sent).data.success?t.fire({icon:"success",title:"Welcome back !"}):s.data.response[0].message?t.fire({icon:"warning",title:s.data.response[0].message}):t.fire({icon:"warning",title:s.data.response}),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(1),A.a.fire({icon:"warning",title:"Oops...We have a problem. \ud83d\ude25 Try later!",text:"In moments you will be redirected to Home."}),setTimeout((function(){e.history.push("/")}),3e3),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{photo:"fondoForm.png",title:"Welcome back !",subtitle:"Log in to discover and connect with MYtinerary's global community!",button:Object(b.jsx)("div",{className:"div-form",children:Object(b.jsxs)("form",{className:"row",children:[Object(b.jsx)("div",{id:"emailHelp",className:"form-text col-md-4 m-1 ",children:Object(b.jsx)("input",{className:"form-control",type:"email",name:"email",placeholder:"Email",onChange:o})}),Object(b.jsx)("div",{id:"exampleInputPassword1",className:"col-md-4 ",children:Object(b.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",onChange:o})}),Object(b.jsxs)("div",{className:"buttons",children:[Object(b.jsx)("button",{onClick:function(n){if(Object.keys(s).some((function(e){return""===s[e]})))return t.fire({icon:"warning",title:"Oops! Fields cannot be empty!"}),!1;function a(){return(a=Object(d.a)(l.a.mark((function n(){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.signIn(s);case 3:(a=n.sent).data.success?t.fire({icon:"success",title:"Welcome back !"}):a.data.response[0].message?t.fire({icon:"warning",title:a.data.response[0].message}):t.fire({icon:"warning",title:a.data.response}),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),A.a.fire({icon:"warning",title:"Oops...We have a problem. \ud83d\ude25 Try later!",text:"In moments you will be redirected to Home."}),setTimeout((function(){e.history.push("/")}),3e3),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()},type:"button",className:"btn btn-dark col-md-2 m-2",children:"Sign In"}),Object(b.jsx)(K.a,{type:"button",className:"btn btn-dark col-md-2 m-2",clientId:"51461104755-rc63mundpq3i34ujiubmuo9o314gr1bg.apps.googleusercontent.com",buttonText:"Sign In with Google",onSuccess:m,onFailure:m,cookiePolicy:"single_host_origin"})]}),Object(b.jsxs)("p",{className:"form",children:["Don't have an account? ",Object(b.jsx)(i.b,{to:"/signUp",children:"Sign up here!"})]})]})})}),Object(b.jsx)(f,{})]})})),$={logIn:j.logInLS},ee=Object(c.b)((function(e){return{token:e.users.token}}),$)((function(e){return Object(a.useEffect)((function(){localStorage.getItem("token")&&e.logIn(localStorage.getItem("token"))}),[]),Object(b.jsx)(i.a,{children:Object(b.jsxs)(M.d,{children:[Object(b.jsx)(M.b,{exact:!0,path:"/",component:C}),Object(b.jsx)(M.b,{exact:!0,path:"/cities",component:L}),Object(b.jsx)(M.b,{path:"/city/:id",component:P}),!e.token&&Object(b.jsx)(M.b,{path:"/signUp",component:J}),!e.token&&Object(b.jsx)(M.b,{path:"/signIn",component:Q}),Object(b.jsx)(M.b,{path:"/notFound",component:W}),e.token?Object(b.jsx)(M.a,{to:"/"}):Object(b.jsx)(M.a,{to:"/notFound"})]})})})),te=n(25),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cities:[],filterCities:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CITIES":return Object(u.a)(Object(u.a)({},e),{},{cities:t.payload,filterCities:t.payload});case"FILTER_CITY":var n=e.cities.filter((function(e){return e.name.toLowerCase().startsWith(t.payload.trim())}));return Object(u.a)(Object(u.a)({},e),{},{filterCities:n});default:return e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itineraries:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES":return Object(u.a)(Object(u.a)({},e),{},{itineraries:t.payload});default:return e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{countries:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COUNTRIES":return Object(u.a)(Object(u.a)({},e),{},{countries:t.payload});default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:null,name:null,url:null,lastname:null,_id:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_INTO_SYSTEM":return localStorage.setItem("token",t.payload.token),localStorage.setItem("name",t.payload.name),localStorage.setItem("url",t.payload.url),Object(u.a)(Object(u.a)({},e),{},{token:t.payload.token,name:t.payload.name,lastname:t.payload.lastname,url:t.payload.url,_id:t.payload._id});case"LOG_OUT":return localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("url"),Object(u.a)(Object(u.a)({},e),{},{token:null,name:null,url:null,lastname:null,_id:null})}return e},ce=Object(te.b)({cities:ne,itineraries:ae,countries:re,users:se}),ie=n(60),oe=Object(te.c)(ce,Object(te.a)(ie.a));s.a.render(Object(b.jsx)(c.a,{store:oe,children:Object(b.jsx)(ee,{})}),document.getElementById("root"))},67:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.5f31535a.chunk.js.map